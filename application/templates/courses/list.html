{% extends "layout.html" %}

{% block body %}

<div class="text-center">
    <h1 class="h1 mb-1 font-weight-normal">Search for a course</h1>
    <br>
    <form class="form-signin" method=POST action="{{ url_for('courses_index') }}">
      <dl>
        {{ form.select }}
        <p>
        <br>
        {{ form.search }}
        </p>
      </dl>
      <input type="submit" class="btn btn-outline-info" value="Search"/>
    </form>
    <br>
  </div>

  <table class="table">
   <thead class="thead-light">
    <tr>
      <th>Course</th>
      <th>Course code</th>
      <th>Language</th>
      <th>Level</th>
      <th>Spots</th>
      <th>Location</th>
      <th>Description</th>
      <th>Registrations open</th>
    </tr>
   </thead>

    {% for course in courses %}
   <tbody>
    <tr>
      <td>{{ course.name }}</td>
      <td>{{ course.coursecode }}</td>
      <td>{{ course.language }}</td>
      <td>{{ course.level }}</td>
      <td>{{ course.spots }}</td>
      <td>{{ course.course_location }}</td>
      <td>{{ course.description }}</td>
      <td>{{ course.registrationsopen }}</td>
      <td><form method="POST" action="{{url_for('courses_update', course_id=course.id) }}">
       <input type="submit" value="Open registrations"/>
      </form></td>
    <td><form method="POST" action="{{url_for('courses_edit', course_id=course.id) }}">
       <input type="submit" value="Edit course"/>
      </form></td>
    <td><form method="POST" action="{{url_for('courses_delete', course_id=course.id) }}">
       <input type="submit" value="Delete course"/>
     </form></td>
    <td><form method="POST" action="{{url_for('courses_register', course_id=course.id) }}">
       <input type="submit" value="Register for the course"/>
      </form></td>
      </tr>
     </tbody>
    {% endfor %}
  </table>
{% endblock %}
